

<link rel="stylesheet" type="text/css" media="screen" href="relazione.css">













http://www.html.it/pag/51161/location-services/








## Importazione del dataframe dai dati di Mozilla


collaborative project

OpenCellID is a collaborative project to create a free worldwide database of Cell IDs.

dati collaborativi, copertura mondiale, tanti dati, puliti, aperti, aggiornati, facilmente ottenibili, ben documentati


## Mozilla Location Service

Is a service to provide geolocation coordinates from other sources of data (Bluetooth, cell or WiFi networks, GeoIP, etc.). It is using both Cell-ID and Wi-Fi based positioning (WPS) approaches.

Locate yourself, based on the radio environment around you.

The file format was developed in cooperation with the OpenCellID project. 

TODO mettere mappa di Mozilla completa di punti WiFi

### Statistics for Cell and WiFi networks

Metric | Value (in millions)
-------|--------------------
Wifi Networks | 521.61
Wifi Observations | 11006.56
MLS Cells | 20.39
MLS Cell Observations | 2468.46
OpenCellID Cells | 7.99

### Region Statistics

Region | GSM (2G) | UMTS (3G) | LTE (4G) | Total Cells | WiFis
-------|----------|-----------|----------|-------------|------
United States | 230236 | 976603 | 1595402 | 2802241 | 175599375
Germany | 294388 | 692172 | 128380 | 1114940 | 27748682
France | 193033 | 636640 | 143635 | 973308 | 28497705
United Kingdom | 175289 | 637625 | 124983 | 937897 | 27613264
Italy | 132468 | 516379 | 96489 | 745336 | 9844682


## Cell Networks

<a href="https://creativecommons.org/publicdomain/zero/1.0/" rel="license">
<img src="/static/images/publicdomain.png" alt="CC0">
</a>

<img src="http://i.creativecommons.org/p/zero/1.0/88x31.png" alt="CC0">




















## Calculation

There’s two general approaches to calculate positions from signal sources, without the cooperation of the signal sources or mobile networks.

(1) Determine the location of signal sources from observations, then compare / trilaterate user locations.
(2) Generate signal fingerprints for a fine-grained grid of the world. Find best match for a observed fingerprint.

The second approach has a much better accuracy, but relies on a lot more available and constantly updated data. For most of the world this approach is not practical, so we currently focus on approach one.

In theory one would assume that one could use signal strength data to infer a distance measure from it. The further a device is away from the signal source, the weaker the signal should get.

Unfortunately the signal strength is more dependent on the device type, how a user holds a device and changing environmental factors like trucks in the way. Even worse modern networks adjust their signal strength to the number of devices inside their reception area. This makes this data practically useless while looking up a users position via a single reading.

In aggregate over many data points this information can still be valuable in determining the actual position of the signal source. While observing multiple signals at once, their relative strengths can also be used, as this keeps some of the changing factors constant, like the device type.

One other approach is using time of flight data as a distance metric. While there are some reflection and multipath problems it’s a much more accurate distance predictor. Fine grained enough timing data is unfortunately almost never available to the application or operating system layer in client devices. Some LTE networks and really modern WiFi networks with support for 802.11v are the rare exception to this. But these are so rare, that we currently ignore timing data.

## Accuracy

Depending on the signal standard, we can promise different sorts of accuracy.

Underlying this is the assumption that we have enough data about the area at all. With no or too little data we’ll have to fallback to less accurate data sources. WiFi is the most accurate, followed by cell based estimation using single cells, multiple cells or cell location areas.

### WiFi

WiFi networks have a fairly limited range, with buildings in the way often only in the tens or low hundreds of meters. But caching layers in the operating system and time differences between when a WiFi scan happened and when this is made available to the calling app can lead to WiFi networks still being visible up to some kilometers away from their actual position if the device moves in the meantime.

This means position estimates based on WiFi networks are usually accurate to low hundreds of meters. If a lot of networks are available in the area accuracy tends to increase to 100 meter or less.

One challenge that’s particular severe in WiFi networks are all the constantly moving WiFi networks, for example those installed on buses or trains or in the form of hotspot enabled mobile phones or tablets. So movement detection and detecting inconsistencies between observed data and the database world view are important considerations.

### GSM

For GSM networks we will likely have access to the unique cell id of the serving cell only. In GSM networks the phone does not know the full cell ids of any neighboring cells, unless it associates with the new cell as part of a hand-over, forgetting the cell id of the old cell.

So we are limited to a basic Cell-ID approach, meaning we assume that the user is at the center of the current GSM cell area and use the cell radius as the accuracy.

GSM cells are restricted to a maximum range of 35km, but there are rare exceptions using the GSM extended range of 120km.

In more populated places the cell sizes are typically much smaller, but generally accuracy will be in the tens of kilometer range.

### UMTS

In most cases we are limited to the same approach as for GSM cells. The typical cell sizes of UMTS cells are much smaller, which practically leads to a better accuracy. But UMTS cells in rural areas can have a larger radius than GSM cells and we observed cells sizes of 60-70km.

In urban areas we should typically see accuracy in the 1 to 10 kilometer range.

### LTE

LTE cells are again often even smaller than UMTS cells which leads to better accuracies.

LTE networks also expose a time based distance metric in the form of the timing advance. While we currently don’t use this information, in the future it has the potential to significantly improve position estimates based on multiple cells.


The data exchange format was created in collaboration with the OpenCellID project.

The data format does not specify the means and exact algorithms by which the position estimate or range calculation was done. The algorithms might be unique and changing for each source of the data, though both ichnaea and OpenCellID currently use similar and comparable techniques.





